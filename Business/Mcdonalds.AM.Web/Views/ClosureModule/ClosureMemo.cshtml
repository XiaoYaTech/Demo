@{
    Layout = null;
}
<form name="formMemo">
    <div>
        <div ng-if="editable=='false'">
            <div class="panel panel-black mg_t_10">
                <div class="panel-heading">
                    <span class="panel-icon"></span>
                    <span class="panel-title">[[[Closure Memo]]]
                    </span>
                </div>
                <table class="table table-bordered">
                    <colgroup>
                        <col width="25%" />
                        <col width="25%" />
                        <col width="25%" />
                        <col width="25%" />
                    </colgroup>
                    <tr>
                        <td colspan="2">
                            <label>[[[Closure Nature/关店形式]]]</label>
                        </td>
                        <td colspan="2">{{entity.ClosureNature|closureNatureFilter}}/{{entity.ClosureNature|closureNatureZHCNFilter}}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <label>[[[Region/区域]]]</label>
                        </td>
                        <td colspan="2">{{entity.RegionNameENUS}}/{{entity.RegionNameZHCN}}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <label>[[[Market/市场]]]</label>
                        </td>
                        <td colspan="2">{{entity.MarketNameENUS}}/{{entity.MarketNameZHCN}}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <label>[[[Province/省份]]]</label>
                        </td>
                        <td colspan="2">{{entity.ProvinceNameENUS}}/{{entity.ProvinceNameZHCN}}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <label>[[[City/城市]]]</label>
                        </td>
                        <td colspan="2">{{entity.MarketNameENUS}}/{{entity.MarketNameZHCN}}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <label>[[[Store Name/店铺名称]]]</label>
                        </td>
                        <td colspan="2">{{entity.StoreNameENUS}}/{{entity.StoreNameZHCN}}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <label>[[[Store Address/店铺地址]]]</label>
                        </td>
                        <td colspan="2">{{entity.StoreAddressENUS}}/{{entity.StoreAddressZHCN}}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <label>[[[US Code]]]</label>
                        </td>
                        <td colspan="2">{{entity.USCode}}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label>[[[Open Date]]]</label>
                        </td>
                        <td>{{entity.OpenDate|date:'yyyy-MM-dd'}}
                        </td>
                        <td>
                            <label>[[[Closure Date]]]</label>
                        </td>
                        <td>{{entity.ClosureDate|date:'yyyy-MM-dd'}}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" rowspan="7" valign="middle">
                            <label>[[[Reason for Closure/关店原因]]]</label>
                        </td>
                        <td>- 
                        <label for="cbBecauseOfReimaging">[[[Reimaging 餐厅形象翻新]]]</label>
                        </td>
                        <td>{{entity.BecauseOfReimaging|boolFilter}}
                        </td>
                    </tr>
                    <tr>
                        <td>- 
                        <label for="cbBecauseOfRemodel">[[[Landlord Remodel 业主改造]]]</label>
                        </td>
                        <td>{{entity.BecauseOfRemodel|boolFilter}}
                        </td>
                    </tr>
                    <tr>
                        <td>- 
                        <label for="cbBecauseOfDespute">[[[Landlord Dispute 业主纠纷]]]</label>
                        </td>
                        <td>{{entity.BecauseOfDespute|boolFilter}}
                        </td>
                    </tr>
                    <tr>
                        <td>- 
                        <label for="cbBecauseOfRedevelopment">[[[Government Redevelopment 政府改造]]]</label>
                        </td>
                        <td>{{entity.BecauseOfRedevelopment|boolFilter}}
                        </td>
                    </tr>
                    <tr>
                        <td>- 
                        <label for="cbBecauseOfPlanedClosure">[[[Planned Closure 策略性关店]]]</label>
                        </td>
                        <td>{{entity.BecauseOfPlanedClosure|boolFilter}}
                        </td>
                    </tr>
                    <tr>
                        <td>- 
                        <label for="cbBecauseOfRebuild">[[[Rebuild 重建]]]</label>
                        </td>
                        <td>{{entity.BecauseOfRebuild|boolFilter}}
                        </td>
                    </tr>
                    <tr>
                        <td>- 
                        <label for="cbBecauseOfRebuild">[[[Other (please specify) 其他（请描述）: ]]]</label>
                        </td>
                        <td>{{entity.BecauseOfOthers}}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" rowspan="3">
                            <label>[[[Relocation/迁址]]]</label>
                        </td>
                        <td>- 
                        <label>[[[Potential to permanent close? 有机会永久关店？]]]</label>
                        </td>
                        <td>{{entity.PermanentCloseOpportunity|boolFilter}}
                        </td>
                    </tr>
                    <tr>
                        <td>- 
                        <label>[[[Plan for relocation? 有迁店的计划？]]]</label>
                        </td>
                        <td>{{entity.HasRelocationPlan|boolFilter}}
                        </td>
                    </tr>
                    <tr>
                        <td>- 
                        <label>[[[Relocate Store/Pipeline Name  迁店后新店/Pipeline名称]]]</label>
                        </td>
                        <td ng-show="entity.HasRelocationPlan">{{entity.PipelineId}}/{{entity.PipelineName}}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" rowspan="2">
                            <label>[[[Compensation/赔偿]]]</label>
                        </td>
                        <td>- 
                        <label>[[[Compensation Awarded? 获得赔偿?]]]</label>
                        </td>
                        <td>
                            <span ng-show="compensationLoaded">
                                <label>
                                    <input type="radio" disabled name="ClosureNature2" ng-checked="compensation>0" />
                                    Yes</label>
                                &nbsp;&nbsp;
                            <label>
                                <input type="radio" disabled name="ClosureNature2" ng-checked="compensation<=0" />
                                No</label>
                            </span>
                            <img ng-show="!compensationLoaded" src="~/Content/Images/loading.gif" />
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label>[[[Remarks,if the figure is negative,it means We pay the Compensation to the landlord.备注：如果金额为负数，则表示麦当劳需向业主支付赔偿。]]]</label>
                        </td>
                        <td>
                            <span ng-class="{'hide':!compensationLoaded}">{{compensation}}</span>
                            <img ng-class="{'hide':compensationLoaded}" src="~/Content/Images/loading.gif" />
                        </td>

                    </tr>
                </table>
            </div>
        </div>
        <div ng-if="editable=='true'">
            <div class="panel panel-black mg_t_10">
                <div class="panel-heading">
                    <span class="panel-icon"></span>
                    <span class="panel-title">[[[Closure Memo]]]
                    </span>
                </div>
                <table class="table table-bordered">
                    <colgroup>
                        <col width="25%" />
                        <col width="25%" />
                        <col width="25%" />
                        <col width="25%" />
                    </colgroup>
                    <tr>
                        <td colspan="2">
                            <label>[[[Closure Nature/关店形式]]]</label>
                        </td>
                        <td colspan="2">
                            <label>
                                <input type="radio" ng-model="entity.ClosureNature" ng-value="2" />
                                [[[临时]]]</label>
                            &nbsp;&nbsp;
                        <label>
                            <input type="radio" ng-model="entity.ClosureNature" ng-value="1" />
                            [[[永久]]]</label>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <label>[[[Region/区域]]]</label>
                        </td>
                        <td colspan="2">{{entity.RegionNameENUS}}/{{entity.RegionNameZHCN}}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <label>[[[Market/市场]]]</label>
                        </td>
                        <td colspan="2">{{entity.MarketNameENUS}}/{{entity.MarketNameZHCN}}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <label>[[[Province/省份]]]</label>
                        </td>
                        <td colspan="2">{{entity.ProvinceNameENUS}}/{{entity.ProvinceNameZHCN}}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <label>[[[City/城市]]]</label>
                        </td>
                        <td colspan="2">{{entity.MarketNameENUS}}/{{entity.MarketNameZHCN}}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <label>[[[Store Name/店铺名称]]]</label>
                        </td>
                        <td colspan="2">{{entity.StoreNameENUS}}/{{entity.StoreNameZHCN}}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <label>[[[Store Address/店铺地址]]]</label>
                        </td>
                        <td colspan="2">
                            <input type="text" class="form-control" ng-model="entity.StoreAddressENUS" />
                            /<br />
                            <input type="text" class="form-control" ng-model="entity.StoreAddressZHCN" />
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <label>[[[US Code]]]</label>
                        </td>
                        <td colspan="2">{{entity.USCode}}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label>[[[Open Date]]]</label>
                        </td>
                        <td>{{entity.OpenDate|date:"yyyy-MM-dd"}}
                        </td>
                        <td>
                            <label>[[[Closure Date]]]</label>
                        </td>
                        <td>
                            <p class="input-group">
                                <input type="text" name="closureDate" class="form-control" ng-model="entity.ClosureDate" datepicker-popup="yyyy-MM-dd" is-open="showClosureDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="openDate($event,'showClosureDate')"><i class="glyphicon glyphicon-calendar"></i></button>
                                </span>
                                <div ng-show="formMemo.closureDate.$dirty">
                                    <span class="ng-error" ng-show="formMemo.closureDate.$error.required">[[[必须填写]]]</span>
                                </div>
                            </p>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" rowspan="7" valign="middle">
                            <label>[[[Reason for Closure/关店原因]]]</label>
                        </td>
                        <td>- 
                        <label for="cbBecauseOfReimaging">[[[Reimaging 餐厅形象翻新]]]</label>
                        </td>
                        <td>
                            <input type="checkbox" value="1" id="cbBecauseOfReimaging" ng-model="entity.BecauseOfReimaging" />
                        </td>
                    </tr>
                    <tr>
                        <td>- 
                        <label for="cbBecauseOfRemodel">[[[Landlord Remodel 业主改造]]]</label>
                        </td>
                        <td>
                            <input type="checkbox" value="1" id="cbBecauseOfRemodel" ng-model="entity.BecauseOfRemodel" />
                        </td>
                    </tr>
                    <tr>
                        <td>- 
                        <label for="cbBecauseOfDespute">[[[Landlord Dispute 业主纠纷]]]</label>
                        </td>
                        <td>
                            <input type="checkbox" value="1" id="cbBecauseOfDespute" ng-model="entity.BecauseOfDespute" />
                        </td>
                    </tr>
                    <tr>
                        <td>- 
                        <label for="cbBecauseOfRedevelopment">[[[Government Redevelopment 政府改造]]]</label>
                        </td>
                        <td>
                            <input type="checkbox" value="1" id="cbBecauseOfRedevelopment" ng-model="entity.BecauseOfRedevelopment" />
                        </td>
                    </tr>
                    <tr>
                        <td>- 
                        <label for="cbBecauseOfPlanedClosure">[[[Planned Closure 策略性关店]]]</label>
                        </td>
                        <td>
                            <input type="checkbox" value="1" id="cbBecauseOfPlanedClosure" ng-model="entity.BecauseOfPlanedClosure" />
                        </td>
                    </tr>
                    <tr>
                        <td>- 
                        <label for="cbBecauseOfRebuild">[[[Rebuild 重建]]]</label>
                        </td>
                        <td>
                            <input type="checkbox" value="1" id="cbBecauseOfRebuild" ng-model="entity.BecauseOfRebuild" />
                        </td>
                    </tr>
                    <tr>
                        <td>- 
                        <label>[[[Other (please specify) 其他（请描述）:]]] </label>
                        </td>
                        <td>
                            <textarea class="form-control" rows="2" ng-model="entity.BecauseOfOthers"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" rowspan="3">
                            <label>[[[Relocation/迁址]]]</label>
                        </td>
                        <td>- 
                        <label>[[[Potential to permanent close? 有机会永久关店？]]]</label>
                        </td>
                        <td>
                            <label>
                                <input type="radio" name="PermanentCloseOpportunity" ng-model="entity.PermanentCloseOpportunity" ng-value="true" />
                                Yes</label>
                            &nbsp;&nbsp;
                        <label>
                            <input type="radio" name="PermanentCloseOpportunity" ng-model="entity.PermanentCloseOpportunity" ng-value="false" />
                            No</label>
                        </td>
                    </tr>
                    <tr>
                        <td>- 
                        <label>[[[Plan for relocation? 有迁店的计划？]]]</label>
                        </td>
                        <td>
                            <label>
                                <input type="radio" name="HasRelocationPlan" ng-model="entity.HasRelocationPlan" ng-value="true" />
                                Yes</label>
                            &nbsp;&nbsp;
                        <label>
                            <input type="radio" name="HasRelocationPlan" ng-model="entity.HasRelocationPlan" ng-value="false" />
                            No</label>
                        </td>
                    </tr>
                    <tr>
                        <td>- 
                        <label>[[[Relocate Store/Pipeline Name  迁店后新店/Pipeline名称]]]</label>
                        </td>
                        <td ng-show="entity.HasRelocationPlan">@*<input type="text" class="form-control" ng-model="entity.PipelineName" />*@
                        <input type="text" class="form-control"
                            ng-model="searchedPipeline" typeahead-loading="loadingPipelines"
                            typeahead="n as n.PipelineNameZHCN+'-'+n.PipelineNameENUS +'-'+n.PipelineCode for n in searchPipeline($viewValue)" />
                            <i ng-show="loadingPipelines" class="glyphicon glyphicon-refresh"></i>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" rowspan="2">
                            <label>[[[Compensation/赔偿]]]</label>
                        </td>
                        <td>- 
                        <label>[[[Compensation Awarded? 获得赔偿?]]]</label>
                        </td>
                        <td>
                            <span ng-class="{'hide':!compensationLoaded}">
                                <label>
                                    <input type="radio" disabled name="ClosureNature" ng-checked="compensation>0" />
                                    Yes</label>
                                &nbsp;&nbsp;
                            <label>
                                <input type="radio" disabled name="ClosureNature" ng-checked="compensation<=0" />
                                No</label>
                            </span>
                            <img ng-class="{'hide':compensationLoaded}" src="~/Content/Images/loading.gif" />
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <label>[[[Remarks,if the figure is negative,it means We pay the Compensation to the landlord.备注：如果金额为负数，则表示麦当劳需向业主支付赔偿。]]]</label>
                        </td>
                        <td>
                            <span ng-show="compensationLoaded">{{compensation}}</span>
                            <img ng-show="!compensationLoaded" src="~/Content/Images/loading.gif" />
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</form>
